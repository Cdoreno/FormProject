function tratarXML(a){var b=a.responseXML,c=b.getElementsByTagName("text")[0].innerHTML;mostrarPregunta1(c),respTexto=b.getElementsByTagName("answer")[0].innerHTML;var d=b.getElementsByTagName("text")[1].innerHTML;mostrarPregunta2(d),respTexto2=b.getElementsByTagName("answer")[1].innerHTML;for(var e=b.getElementsByTagName("text")[2].innerHTML,f=[],g=b.getElementById("3").getElementsByTagName("option").length,h=0;h<g;h++)f[h]=b.getElementById("3").getElementsByTagName("option")[h].innerHTML;mostrarPregunta3(e,f),respSelect=parseInt(b.getElementsByTagName("answer")[2].innerHTML);for(var i=b.getElementsByTagName("text")[3].innerHTML,j=[],g=b.getElementById("4").getElementsByTagName("option").length,h=0;h<g;h++)j[h]=b.getElementById("4").getElementsByTagName("option")[h].innerHTML;mostrarPregunta4(i,j),respSelect2=parseInt(b.getElementsByTagName("answer")[3].innerHTML);var k=b.getElementsByTagName("text")[4].innerHTML,l=[];numMaxOptMulti=b.getElementById("5").getElementsByTagName("option").length;for(var h=0;h<numMaxOptMulti;h++)l[h]=b.getElementById("5").getElementsByTagName("option")[h].innerHTML;mostrarPregunta5(k,l);for(var m=b.getElementById("5").getElementsByTagName("answer").length,h=0;h<m;h++)respMulti[h]=b.getElementById("5").getElementsByTagName("answer")[h].childNodes[0].nodeValue;var n=b.getElementsByTagName("text")[5].innerHTML,o=[];numMaxOptMulti2=b.getElementById("6").getElementsByTagName("option").length;for(var h=0;h<numMaxOptMulti2;h++)o[h]=b.getElementById("6").getElementsByTagName("option")[h].innerHTML;mostrarPregunta6(n,o);for(var p=b.getElementById("6").getElementsByTagName("answer").length,h=0;h<p;h++)respMulti2[h]=b.getElementById("6").getElementsByTagName("answer")[h].childNodes[0].nodeValue;var q=document.getElementById("p07"),r=document.createElement("h3");r.innerHTML=b.getElementsByTagName("text")[6].childNodes[0].nodeValue,q.appendChild(r);for(var g=b.getElementById("7").getElementsByTagName("option").length,h=0;h<g;h++){var s=document.createElement("input"),t=document.createElement("label"),u=document.createElement("br");t.innerHTML=b.getElementById("7").getElementsByTagName("option")[h].childNodes[0].nodeValue,t.setAttribute("for","radio_"+h),s.type="radio",s.name="radio1",s.id="radio_"+h,q.appendChild(s),q.appendChild(t),q.appendChild(u)}for(var v=b.getElementById("7").getElementsByTagName("answer").length,h=0;h<v;h++)respRadio[h]=b.getElementById("7").getElementsByTagName("answer")[h].childNodes[0].nodeValue;var w=document.getElementById("p08"),r=document.createElement("h3");r.innerHTML=b.getElementsByTagName("text")[7].childNodes[0].nodeValue,w.appendChild(r);for(var g=b.getElementById("8").getElementsByTagName("option").length,h=0;h<g;h++){var s=document.createElement("input"),t=document.createElement("label"),u=document.createElement("br");t.innerHTML=b.getElementById("8").getElementsByTagName("option")[h].childNodes[0].nodeValue,t.setAttribute("for","radio2_"+h),s.type="radio",s.name="radio2",s.id="radio2_"+h,w.appendChild(s),w.appendChild(t),w.appendChild(u)}for(var x=b.getElementById("8").getElementsByTagName("answer").length,h=0;h<x;h++)respRadio2[h]=b.getElementById("8").getElementsByTagName("answer")[h].childNodes[0].nodeValue;var y=document.getElementById("p09"),r=document.createElement("h3");r.innerHTML=b.getElementsByTagName("text")[8].childNodes[0].nodeValue,y.appendChild(r);for(var g=b.getElementById("9").getElementsByTagName("option").length,h=0;h<g;h++){var s=document.createElement("input"),t=document.createElement("label"),u=document.createElement("br");t.innerHTML=b.getElementById("9").getElementsByTagName("option")[h].childNodes[0].nodeValue,t.setAttribute("for","checkbox1_"+h),s.type="checkbox",s.name="checkbox1",s.id="checkbox1_"+h,y.appendChild(s),y.appendChild(t),y.appendChild(u)}for(var z=b.getElementById("9").getElementsByTagName("answer").length,h=0;h<z;h++)respCheck[h]=b.getElementById("9").getElementsByTagName("answer")[h].childNodes[0].nodeValue;var A=document.getElementById("p10"),r=document.createElement("h3");r.innerHTML=b.getElementsByTagName("text")[9].childNodes[0].nodeValue,A.appendChild(r);for(var g=b.getElementById("10").getElementsByTagName("option").length,h=0;h<g;h++){var s=document.createElement("input"),t=document.createElement("label"),u=document.createElement("br");t.innerHTML=b.getElementById("10").getElementsByTagName("option")[h].childNodes[0].nodeValue,t.setAttribute("for","checkbox2_"+h),s.type="checkbox",s.name="checkbox2",s.id="checkbox2_"+h,A.appendChild(s),A.appendChild(t),A.appendChild(u)}for(var B=b.getElementById("10").getElementsByTagName("answer").length,h=0;h<B;h++)respCheck2[h]=b.getElementById("10").getElementsByTagName("answer")[h].childNodes[0].nodeValue}function mostrarPregunta1(a){document.getElementById("p01").innerHTML=a}function mostrarPregunta2(a){document.getElementById("p02").innerHTML=a}function mostrarPregunta3(a,b){document.getElementById("p03").innerHTML=a;for(var c=document.getElementById("r03"),d=0;d<b.length;d++){var e=document.createElement("option");e.text=b[d],e.value=d+1,c.options.add(e)}}function mostrarPregunta4(a,b){document.getElementById("p04").innerHTML=a;for(var c=document.getElementById("r04"),d=0;d<b.length;d++){var e=document.createElement("option");e.text=b[d],e.value=d+1,c.options.add(e)}}function mostrarPregunta5(a,b){document.getElementById("p05").innerHTML=a;for(var c=document.getElementById("r05"),d=0;d<b.length;d++){var e=document.createElement("option");e.text=b[d],e.value=d+1,c.options.add(e)}}function mostrarPregunta6(a,b){document.getElementById("p06").innerHTML=a;for(var c=document.getElementById("r06"),d=0;d<b.length;d++){var e=document.createElement("option");e.text=b[d],e.value=d+1,c.options.add(e)}}function correcTexto(){var a=formElement.elements[0].value;a==respTexto?(darRespuesta("Perfecto."),nota+=1):darRespuesta("Te has equivocado.")}function correcTexto2(){var a=formElement.elements[1].value;a==respTexto2?(darRespuesta("Perfecto."),nota+=1):darRespuesta("Te has equivocado.")}function correcSelect(){var a=formElement.elements[2].value;a==respSelect?(darRespuesta("Perfecto."),nota+=1):darRespuesta("Te has equivocado.")}function correcSelect2(){var a=formElement.elements[3].value;a==respSelect2?(darRespuesta("Perfecto."),nota+=1):darRespuesta("Te has equivocado.")}function correcMulti(){var a=formElement,b=[];for(darRespuesta("Pregunta número: 5"),i=0;i<a.r05.length;i++)if(a.r05[i].selected){for(b[i]=!1,j=0;j<respMulti.length;j++)i==respMulti[j]&&(b[i]=!0);b[i]?(nota+=1,darRespuesta("Respuesta número "+i+" correcta")):(nota-=1/numMaxOptMulti,darRespuesta("Respuesta número "+i+" incorrecta"))}}function correcMulti2(){var a=formElement,b=[];for(darRespuesta("Pregunta número: 6"),i=0;i<a.r06.length;i++)if(a.r06[i].selected){for(b[i]=!1,j=0;j<respMulti2.length;j++)i==respMulti2[j]&&(b[i]=!0);b[i]?(nota+=1,darRespuesta("Respuesta número "+i+" correcta")):(nota-=1/numMaxOptMulti2,darRespuesta("Respuesta número "+i+" incorrecta"))}}function correcRadio(){var a=formElement,b=[];for(i=0;i<a.radio1.length;i++)if(a.radio1[i].checked){for(b[i]=!1,j=0;j<respRadio.length;j++)i==respRadio[j]&&(b[i]=!0);b[i]?(nota+=1,darRespuesta("Correcta")):darRespuesta("Incorrecta")}}function correcRadio2(){var a=formElement,b=[];for(i=0;i<a.radio2.length;i++)if(a.radio2[i].checked){for(b[i]=!1,j=0;j<respRadio2.length;j++)i==respRadio2[j]&&(b[i]=!0);b[i]?(nota+=1,darRespuesta("Correcta")):darRespuesta("Incorrecta")}}function correcCheck(){var a=formElement,b=[];for(i=0;i<a.checkbox1.length;i++)if(a.checkbox1[i].checked){for(b[i]=!1,j=0;j<respCheck.length;j++)i==respCheck[j]&&(b[i]=!0);b[i]?(nota+=.5,darRespuesta("Correcta")):(nota-=1/numMaxOptMulti,darRespuesta("Incorrecta"))}}function correcCheck2(){var a=formElement,b=[];for(i=0;i<a.checkbox2.length;i++)if(a.checkbox2[i].checked){for(b[i]=!1,j=0;j<respCheck2.length;j++)i==respCheck2[j]&&(b[i]=!0);b[i]?(nota+=.5,darRespuesta("Correcta")):(nota-=1/numMaxOptMulti,darRespuesta("Incorrecta"))}}function darRespuesta(a){var b=document.getElementById("resultadosDiv"),c=document.createElement("p"),d=document.createTextNode(a);c.appendChild(d),b.appendChild(c)}function iniciar(){document.getElementById("resultadosDiv").innerHTML="",nota=0}function presentarNota(){darRespuesta("Ha sacado un "+nota+" sobre 10.")}var formElement=null,respTexto=null,respTexto2=null,respSelect=null,respSelect2=null,respMulti=[],respMulti2=[],respRadio=[],respRadio2=[],respCheck=[],respCheck2=[],nota=null,numMaxOptMulti=null,numMaxOptMulti2=null;window.onload=function(){formElement=document.getElementById("cuestionario"),formElement.onsubmit=function(){return iniciar(),correcTexto(),correcTexto2(),correcSelect(),correcSelect2(),correcMulti(),correcMulti2(),correcRadio(),correcRadio2(),correcCheck(),correcCheck2(),presentarNota(),!1};var a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&200==this.status&&tratarXML(this)},a.open("GET","../xml/question.xml",!0),a.send()};
